kibana:
  imagePullSecrets:
  - name: private-registry-mil

  count: 1
  resources:
    requests:
      memory: 1Gi
      cpu: 1
    limits:
      memory: 1Gi
      cpu: 1

elasticsearch:
  imagePullSecrets:
  - name: private-registry-mil

  master:
    count: 1
    resources:
      requests:
        memory: 2Gi
        cpu: 1
      limits:
        cpu: 1
        memory: 2Gi
    heap:
      # Xms
      min: 1g
      # Xmx
      max: 1g

  data:
    count: 2
    persistence:
      storageClassName: ""
    resources:
      requests:
        memory: 2Gi
        cpu: 1
      limits:
        cpu: 1
        memory: 2Gi
    heap:
      # Xms
      min: 1g
      # Xmx
      max: 1g

istio:
  enabled: true

networkPolicies:
  enabled: true
  controlPlaneCidr: 172.16.0.0/12

bbtests:
  enabled: true
  cypress:
    artifacts: true
    envs:
      cypress_kibana_url: "https://logging-ek-kb-http:5601/login"
    secretEnvs:
      - name: cypress_elastic_password
        valueFrom:
          secretKeyRef:
            name: "logging-ek-es-elastic-user"
            key: elastic
  scripts:
    image: registry1.dso.mil/ironbank/stedolan/jq:1.6
    envs:
      elasticsearch_host: "https://{{ .Release.Name }}-es-http.{{ .Release.Namespace }}.svc.cluster.local:9200"
      desired_version: "{{ .Values.elasticsearch.version }}"
    secretEnvs:
      - name: ELASTIC_PASSWORD
        valueFrom:
          secretKeyRef:
            name: "logging-ek-es-elastic-user"
            key: elastic
